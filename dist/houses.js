"use strict";(self.webpackChunktibia=self.webpackChunktibia||[]).push([[458],{6382:(e,a,r)=>{r.r(a),r.d(a,{default:()=>C});var l=r(5166);const t={class:"card"},n=(0,l._)("div",{class:"card-header"},[(0,l._)("h2",{class:"card-title"},[(0,l._)("img",{src:"icons/houses.svg",alt:"",width:"18",height:"18"}),(0,l.Uk)(" Find free houses ")])],-1),i={class:"card-content"},s={class:"input-group large left"},o=(0,l._)("label",{for:"server"},"Select server",-1),u=(0,l._)("option",{value:"",disabled:"",selected:""},"Select...",-1),d=["value"],c=(0,l._)("small",null,[(0,l.Uk)("This tool depends on "),(0,l._)("a",{href:"https://tibiadata.com/",rel:"noopener",target:"_blank"},"TibiaData API")],-1),h={key:0,class:"mt"},b={class:"filters-pills"},m=["onClick"],v=(0,l._)("small",{class:"filters-info"},"Filter by town.",-1),w={class:"mt"},f={class:"mt table-fixed"},_=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Name"),(0,l._)("th",{class:"hide-on-mobile"},"Rent"),(0,l._)("th",{class:"hide-on-mobile"},"Size"),(0,l._)("th",null,"Current bid"),(0,l._)("th",null,"Time left")])],-1),g={key:0},k=["href"],y={class:"hide-on-mobile"},p={class:"hide-on-mobile"},D={key:1,class:"loader-wrapper"},S=[(0,l._)("div",{class:"loader",role:"status"},null,-1)];var z=r(9669),B=r.n(z);const T={name:"Houses",data:function(){return{servers:["Adra","Alumbra","Antica","Astera","Belobra","Bona","Calmera","Carnera","Celebra","Celesta","Concorda","Damora","Descubra","Dibra","Emera","Epoca","Estela","Famosa","Fera","Ferobra","Fervora","Firmera","Garnera","Gentebra","Gladera","Harmonia","Honbra","Impera","Inabra","Javibra","Juva","Kalibra","Karna","Kenora","Libertabra","Lobera","Luminera","Lutabra","Marcia","Menera","Mercera","Mitigera","Monza","Mudabra","Nefera","Nexa","Nossobra","Ombra","Optera","Pacembra","Pacera","Peloria","Premia","Quelibra","Quintera","Ragna","Refugia","Reinobra","Relania","Relembra","Secura","Serdebra","Serenebra","Solidera","Talera","Tembra","Unica","Unisera","Utobra","Venebra","Visabra","Vunira","Wintera","Wizera","Xandebra","Xylona","Yonabra","Ysolera","Zenobra","Zuna","Zunera"],selectedServer:"",towns:["Ab'Dendriel","Ankrahmun","Carlin","Darashia","Edron","Farmine","Gray Beach","Issavi","Kazordoon","Liberty Bay","Port Hope","Rathleton","Svargrond","Thais","Venore","Yalahar"],server:{"Ab'Dendriel":null,Ankrahmun:null,Carlin:null,Darashia:null,Edron:null,Farmine:null,"Gray Beach":null,Issavi:null,Kazordoon:null,"Liberty Bay":null,"Port Hope":null,Rathleton:null,Svargrond:null,Thais:null,Venore:null,Yalahar:null},filterByTown:null,loader:0}},methods:{checkServer:function(){let e=this.server;this.filterByTown=null,this.selectedServer&&this.towns.forEach((a=>{this.loader++,B().get("https://api.tibiadata.com/v3/houses/"+this.selectedServer+"/"+a).then((r=>{e[a]=r.data.houses.house_list.filter((e=>!0!==e.rented)),this.loader--}))}))},filter:function(e){e===this.filterByTown?this.filterByTown=null:this.filterByTown=e},formatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}},C=(0,r(3744).Z)(T,[["render",function(e,a,r,z,B,T){return(0,l.wg)(),(0,l.iD)("article",t,[n,(0,l._)("div",i,[(0,l._)("div",s,[o,(0,l.wy)((0,l._)("select",{id:"server","onUpdate:modelValue":a[0]||(a[0]=a=>e.selectedServer=a),onChange:a[1]||(a[1]=(...e)=>T.checkServer&&T.checkServer(...e))},[u,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.servers,((e,a)=>((0,l.wg)(),(0,l.iD)("option",{value:e,key:a},(0,l.zw)(e),9,d)))),128))],544),[[l.bM,e.selectedServer]])]),c,e.selectedServer?((0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("div",b,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.towns,((a,r)=>((0,l.wg)(),(0,l.iD)("span",{class:(0,l.C_)(["filters-pill",{selected:e.filterByTown===a}]),onClick:e=>T.filter(a),key:r},(0,l.zw)(a),11,m)))),128))]),v])):(0,l.kq)("v-if",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.server,((a,r)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:r},[!e.selectedServer||null==a||!a.length||e.filterByTown&&e.filterByTown!==r?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("h3",w,(0,l.zw)(r),1),(0,l._)("table",f,[_,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a,((a,r)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:r},[(0,l.Uk)((0,l.zw)(e.key)+" ",1),"rented"!==a.status?((0,l.wg)(),(0,l.iD)("tr",g,[(0,l._)("td",null,[(0,l._)("a",{href:"https://www.tibia.com/community/?subtopic=houses&page=view&world="+e.selectedServer+"&houseid="+a.house_id,target:"_blank"},(0,l.zw)(a.name),9,k)]),(0,l._)("td",y,(0,l.zw)(T.formatNumber(a.rent)),1),(0,l._)("td",p,(0,l.zw)(a.size),1),(0,l._)("td",null,(0,l.zw)(T.formatNumber(a.auction.current_bid)),1),(0,l._)("td",null,(0,l.zw)(a.auction.time_left||"-"),1)])):(0,l.kq)("v-if",!0)],64)))),128))])])],64))],64)))),128)),e.loader>0?((0,l.wg)(),(0,l.iD)("div",D,S)):(0,l.kq)("v-if",!0)])])}]])}}]);