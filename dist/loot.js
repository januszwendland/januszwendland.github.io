(self.webpackChunktibia=self.webpackChunktibia||[]).push([[887],{821:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(645),a=r.n(o)()((function(e){return e[1]}));a.push([e.id,'.green{color:#198754}.orange{color:#fd7e14}.red{color:#dc3545}*{box-sizing:border-box}html{font-size:14px;height:100%}body{height:100%;background-color:#f5f7fa;padding-top:4em;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif;font-size:1rem;font-weight:400;line-height:1.45;color:#212529}h1,h2,h3,h4,h5,h6{margin:0;font-weight:400;line-height:1.2}h3{font-weight:800;text-transform:uppercase;padding:0 1rem}a{color:#212529}strong{font-weight:bolder}button,select,input{font-family:inherit}.center{text-align:center}.input-group{display:flex}.input-group select,.input-group input,.input-group textarea{width:100%;padding:.75rem;font-size:1rem;border-radius:.3rem;line-height:1.5;border:1px solid #adb5bd;-moz-appearance:none;-webkit-appearance:none;display:block;margin:0}.input-group select:focus,.input-group input:focus,.input-group textarea:focus{outline:0;box-shadow:none;border-color:#198754}.input-group label,.input-group button{white-space:nowrap;padding:.75rem;font-size:1rem;border-radius:.3rem;line-height:1.5;background-color:#f5f7fa;border-color:#adb5bd;border-style:solid;cursor:pointer;display:flex;align-items:center;margin:0}.input-group select{cursor:pointer}.input-group textarea{min-height:100px;resize:vertical}.input-group.large select,.input-group.large input,.input-group.large label,.input-group.large button{padding:1rem;font-size:1.25rem}.input-group.small select,.input-group.small input,.input-group.small label,.input-group.small button{padding:.3rem .6rem;font-size:.875rem}.input-group.left label,.input-group.left button{border-radius:.3rem 0 0 .3rem;border-width:1px 0 1px 1px}.input-group.left select,.input-group.left input,.input-group.left textarea{border-radius:0 .3rem .3em 0}.input-group.right label,.input-group.right button{border-radius:0 .3rem .3rem 0;border-width:1px 1px 1px 0}.input-group.right select,.input-group.right input,.input-group.right textarea{border-radius:.3rem 0 0 .3rem}.row{display:flex;margin:0 -0.375rem}.row-wrap{flex-wrap:wrap}.col{width:100%;padding:0 .375rem}.col-25{width:25%}.loader-wrapper{position:fixed;top:0;left:0;width:100%;background-color:rgba(255,255,255,.8);height:100%;z-index:1002;display:flex;justify-content:center;align-items:center}.loader,.loader:before,.loader:after{background:#198754;-webkit-animation:loader 1s infinite ease-in-out;animation:loader 1s infinite ease-in-out;width:1rem;height:4rem}.loader{position:relative;color:#198754;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-0.16s;animation-delay:-0.16s}.loader::before,.loader::after{position:absolute;top:0;content:""}.loader::before{left:-1.5rem;-webkit-animation-delay:-0.32s;animation-delay:-0.32s}.loader::after{left:1.5rem}@-webkit-keyframes loader{0%,80%,100%{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}@keyframes loader{0%,80%,100%{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}.mb{margin-bottom:1.5rem}.mbs{margin-bottom:.75rem}.mt{margin-top:1.5rem}.mts{margin-top:.75rem}.filters{display:flex}.filters .input-group{margin:0 0 .5rem}.filters-pills{display:flex;flex-wrap:wrap}.filters-pill{padding:.3rem .6rem;background-color:#6c757d;border-radius:.25rem;margin:0 .5rem .5rem 0;cursor:pointer;color:#fff;font-size:.875rem;font-weight:700;line-height:1.5;transition:background-color .3s,border-color .3s;border:1px solid #6c757d}.filters-pill:hover{background-color:#adb5bd;border-color:#adb5bd}.filters-pill.selected{background-color:#fd7e14;border-color:#fd7e14}.filters-imgs{display:flex;flex-wrap:wrap}.filters-imgs img{margin:0 .5rem .5rem 0;cursor:pointer;opacity:.7;transition:opacity .3s}.filters-imgs img.selected{opacity:1;outline:.25rem solid #fd7e14}.filters-imgs img:hover{opacity:1}.filters-info{display:block;margin:-0.3rem 0 0}.wrapper{height:100%;display:flex;flex-direction:column;justify-content:space-between}.footer{text-align:center;padding:1.8rem;color:#212529}.footer p{margin:0}.footer-btns{list-style:none;padding:0;margin:0 0 1rem;display:flex;justify-content:center}.footer-btns li{line-height:1;display:inline-block;padding:0 5px;border-right:1px solid #212529}.footer-btns li:last-child{border-right:none}.footer-btns button{background-color:transparent;border:none;cursor:pointer;padding:0;color:#212529;text-decoration:underline;transition:color .3s}.popup{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#fff;z-index:1001;display:flex;align-items:center;justify-content:center}.popup p{text-align:center;margin:0;font-size:3rem;font-weight:300}.popup strong{color:#198754}.popup-close{position:fixed;top:1.8rem;right:1.8rem;background-color:transparent;border:none;padding:0;width:2rem;height:2rem;cursor:pointer;opacity:.7;transition:opacity .3s}.popup-close::before{position:absolute;top:50%;left:0;content:" ";height:2px;width:100%;margin:-1px 0 0;background-color:#212529;transition:transform .3s}.popup-close:hover{opacity:1}.popup-close:hover::before{transform:scale(0.7)}.top-nav{box-shadow:2px 4px 20px -4px rgba(0,0,0,.1);background-color:#212529;position:fixed;z-index:1000;right:0;left:0;top:0;min-height:4em;display:flex;align-items:center;justify-content:center}.top-nav img{margin:0 .5rem 0 0}.top-nav h1{color:#fff;font-size:1.25rem}.main{padding:1.8rem}.card{box-shadow:0 10px 40px 0 rgba(62,57,107,.07),0 2px 9px 0 rgba(62,57,107,.06);background-color:#fff;padding:1.5rem;margin:0 0 1.875rem;position:relative}.card-header{display:flex;align-items:center;justify-content:space-between}.card-title{font-weight:500;letter-spacing:.05rem;font-size:1.12rem;text-transform:uppercase;display:flex;justify-content:center}.card-title img{margin:0 1rem 0 0}.card-collapse-btn{cursor:pointer;background:transparent;border:none;outline:none;padding:0 0 0 14px;opacity:.7;transition:opacity .3s}.card-collapse-btn span{display:block;width:4px;height:4px;background-color:#212529;margin:0 0 3px;transition:transform .3s}.card-collapse-btn span:last-child{margin:0}.card-collapse-btn.collapsed span:first-child{transform:translate(7px, 7px)}.card-collapse-btn.collapsed span:last-child{transform:translate(-7px, -7px)}.card-collapse-btn:hover{opacity:1}.card-content{padding:1.5rem 0 0}.tools{padding:0;margin:0;list-style:none}.tools li{display:flex;align-items:center;margin:0 0 1rem}.tools li:last-child{margin:0}.tools img{margin:0 1rem 0 0}.tools-nav{margin:0 0 1rem}.tools-nav a{cursor:pointer;margin:0 .875rem .875rem 0;box-shadow:0 10px 40px 0 rgba(62,57,107,.07),0 2px 9px 0 rgba(62,57,107,.06);background-color:#212529;padding:.75rem 1.5rem;color:#fff;display:inline-flex;align-items:center;font-size:1.3rem;border-radius:2rem;transition:background-color .3s;text-decoration:none}.tools-nav a:hover{background-color:#383f45}.tools-nav a:hover img{transform:scale(1.1)}.tools-nav a.router-link-active{background-color:#198754;opacity:1}.tools-nav img{transition:transform .3s;margin:0 1rem 0 0}table{width:100%;border-collapse:collapse}table a{text-decoration:none;color:#d63384;transition:color .3s}table a:hover{color:#721744}th{text-align:left;padding:.3rem}td{border-bottom:1px solid #adb5bd;padding:.3rem}tr{padding:5px 0}tr:last-child td{border-bottom:none}.table-fixed{table-layout:fixed}.badge{padding:.75rem;color:#fff;border-radius:.3rem;display:flex;align-items:center;justify-content:space-between;font-size:1.2rem;border:1px solid}.badge.green{background-color:#198754;border-color:#198754}.badge.orange{background-color:#fd7e14;border-color:#fd7e14}.badge.red{background-color:#dc3545;border-color:#dc3545}.badge span{display:block;background-color:#fff;padding:.3rem 1rem;border-radius:.3rem;color:#212529}@media(min-width: 1000px){.show-on-mobile{display:none}}@media(max-width: 999.98px){.row{flex-wrap:wrap}.col{margin:0 0 .75rem}.col:last-child{margin:0}.col-25{width:100%}.hide-on-mobile{display:none}}@media(max-width: 767.98px){.mb{margin-bottom:1rem}.mbs{margin-bottom:.5rem}.mt{margin-top:1rem}.mts{margin-top:.5rem}.main,.footer{padding:1rem}.popup p{font-size:1.8rem}.tools-nav a{padding:1rem;border-radius:50%}.tools-nav a span{display:none}.tools-nav img{margin:0}.filters{display:block}}h3 img{vertical-align:middle;margin:0 0 0 5px;cursor:pointer;transition:transform .3s}h3 img:hover{transform:scale(1.1)}.ellipsis{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.balance-green input{border-color:#198754}.balance-orange input{border-color:#fd7e14}.balance-red input{border-color:#dc3545}.loot-transfer{margin:.5rem 0 0}.loot-transfer img{vertical-align:middle;margin:0 0 0 5px;cursor:pointer;transition:transform .3s}.loot-transfer img:hover{transform:scale(1.1)}',""]);const n=a},641:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card"},[e._m(0),e._v(" "),r("div",{staticClass:"card-content"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.parseLog.apply(null,arguments)}}},[r("div",{staticClass:"input-group large right"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.log,expression:"log"}],domProps:{value:e.log},on:{input:function(t){t.target.composing||(e.log=t.target.value)}}}),e._v(" "),r("button",[e._v("Split loot")])]),e._v(" "),e._m(1)]),e._v(" "),r("small"),e._v(" "),e.parsed?[r("div",{staticClass:"row row-wrap"},e._l(e.logParsed,(function(t,o){return r("div",{staticClass:"col col-25",class:{"balance-green":t.loot>t.supplies,"balance-orange":t.loot===t.supplies,"balance-red":t.loot<t.supplies}},[r("h3",{staticClass:"mt ellipsis"},[e._v("\n                        "+e._s(t.name)+"\n                        "),r("img",{attrs:{src:"icons/remove.svg",alt:"",width:"24px",height:"24px"},on:{click:function(t){return e.removePlayer(o)}}})]),e._v(" "),r("div",{staticClass:"input-group left mts"},[r("label",{attrs:{for:"loot_"+o}},[e._v("Loot")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.loot,expression:"player.loot",modifiers:{number:!0}}],attrs:{type:"number",id:"loot_"+o},domProps:{value:t.loot},on:{change:e.updateResult,input:function(r){r.target.composing||e.$set(t,"loot",e._n(r.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("div",{staticClass:"input-group left mts"},[r("label",{attrs:{for:"supplies_"+o}},[e._v("Supplies")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.supplies,expression:"player.supplies",modifiers:{number:!0}}],attrs:{type:"number",id:"supplies_"+o},domProps:{value:t.supplies},on:{change:e.updateResult,input:function(r){r.target.composing||e.$set(t,"supplies",e._n(r.target.value))},blur:function(t){return e.$forceUpdate()}}})])])})),0),e._v(" "),e._m(2),e._v(" "),r("div",{staticClass:"mt"},e._l(e.transfer,(function(t){return r("p",{staticClass:"loot-transfer"},[r("strong",[e._v(e._s(t.from))]),e._v(" should transfer "),r("strong",[e._v(e._s(t.gold))]),e._v(" gp to "),r("strong",[e._v(e._s(t.to))]),e._v(".\n                    "),r("img",{attrs:{src:"icons/copy.svg",alt:"",width:"24px",height:"24px"},on:{click:function(r){return e.copyToClipboard("transfer "+t.gold+" to "+t.to)}}})])})),0),e._v(" "),e._m(3),e._v(" "),r("div",{staticClass:"row mt"},[r("div",{staticClass:"col"},[r("div",{staticClass:"badge",class:{green:e.teamBalance>0,orange:0===e.teamBalance,red:e.teamBalance<0}},[e._v("\n                        Team balance\n                        "),r("span",[e._v(e._s(e.teamBalance))])])]),e._v(" "),r("div",{staticClass:"col"},[r("div",{staticClass:"badge",class:{green:e.playerBalance>0,orange:0===e.playerBalance,red:e.playerBalance<0}},[e._v("\n                        Each player balance\n                        "),r("span",[e._v(e._s(e.playerBalance))])])])])]:e._e()],2)])};o._withStripped=!0;const a={name:"Loot",data:function(){return{log:"",logParsed:[],parsed:!1,teamSize:0,teamBalance:0,playerBalance:0,transfer:[]}},methods:{parseLog:function(){let e=this.log.split("\n"),t=/\d+/g;e.splice(0,6),this.teamSize=e.length/6,this.teamBalance=0,this.logParsed=[],this.transfer=[];for(let r=0;r<this.teamSize;r++){let o=e[6*r].replace(" (Leader)",""),a=parseInt(e[6*r+1].replace(",","").match(t)),n=parseInt(e[6*r+2].replace(",","").match(t)),i=a-n;this.logParsed.push({name:o,loot:a,supplies:n,balance:i}),this.teamBalance=this.teamBalance+a-n}this.playerBalance=Math.floor(this.teamBalance/this.teamSize),isNaN(this.playerBalance)&&(this.playerBalance=0),this.transferFromTo(),this.parsed=!0},updateResult:function(){this.teamBalance=0,this.logParsed.forEach((e=>{this.teamBalance=this.teamBalance+parseInt(e.loot)-parseInt(e.supplies),e.balance=parseInt(e.loot)-parseInt(e.supplies)})),this.playerBalance=Math.floor(this.teamBalance/this.teamSize),isNaN(this.playerBalance)&&(this.playerBalance=0),this.transferFromTo()},removePlayer:function(e){this.logParsed.splice(e,1),this.teamSize--,this.updateResult()},transferFromTo:function(){let e=this;e.transfer=[],e.logParsed.forEach(((t,r)=>{if(t.balance>e.playerBalance){let o=Math.abs(t.balance-e.playerBalance),a=r;e.logParsed.forEach(((t,r)=>{if(o>0&&t.balance<e.playerBalance){let r=Math.abs(t.balance-e.playerBalance),n=0;r<o?(n=r,o-=r):(n=o,o=0),t.balance+=n,e.logParsed[a].balance-=n,e.transfer.push({from:e.logParsed[a].name,to:t.name,gold:n})}}))}}))},copyToClipboard:function(e){let t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}}};var n=r(379),i=r.n(n),l=r(821);i()(l.Z,{insert:"head",singleton:!1}),l.Z.locals;var s=(0,r(900).Z)(a,o,[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header"},[r("h2",{staticClass:"card-title"},[r("img",{attrs:{src:"icons/loot.svg",alt:"",width:"18px",height:"18px"}}),e._v("\n            Party loot splitter\n        ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("small",[e._v("Copy "),r("strong",[e._v("entire")]),e._v(" log from Party Hunt Analyser. Application "),r("strong",[e._v("do not")]),e._v(" store or validate pasted log.")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mts"},[r("small",[e._v("\n                    You can edit values in text fields."),r("br"),e._v("\n                    You can remove player by clicking on '"),r("strong",[e._v("x")]),e._v("' icon.\n                ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mts"},[r("small",[e._v("\n                    You can copy '"),r("strong",[e._v("transfer [amount] to [name]")]),e._v("' by clicking on icon after text.\n                ")])])}],!1,null,null,null);s.options.__file="src/js/components/Loot.vue";const p=s.exports}}]);