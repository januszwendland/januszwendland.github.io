(self.webpackChunktibia=self.webpackChunktibia||[]).push([[887],{781:(a,t,e)=>{"use strict";e.d(t,{Z:()=>d});var r=e(645),o=e.n(r)()((function(a){return a[1]}));o.push([a.id,'.green[data-v-6f6fd918]{color:#198754}.orange[data-v-6f6fd918]{color:#fd7e14}.red[data-v-6f6fd918]{color:#dc3545}*[data-v-6f6fd918]{box-sizing:border-box}html[data-v-6f6fd918]{font-size:14px;height:100%}body[data-v-6f6fd918]{height:100%;background-color:#f5f7fa;padding-top:4em;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif;font-size:1rem;font-weight:400;line-height:1.45;color:#212529}h1[data-v-6f6fd918],h2[data-v-6f6fd918],h3[data-v-6f6fd918],h4[data-v-6f6fd918],h5[data-v-6f6fd918],h6[data-v-6f6fd918]{margin:0;font-weight:400;line-height:1.2}h3[data-v-6f6fd918]{font-weight:800;text-transform:uppercase;padding:0 1rem}a[data-v-6f6fd918]{color:#212529}strong[data-v-6f6fd918]{font-weight:bolder}button[data-v-6f6fd918],select[data-v-6f6fd918],input[data-v-6f6fd918]{font-family:inherit}.center[data-v-6f6fd918]{text-align:center}.input-group[data-v-6f6fd918]{display:flex}.input-group select[data-v-6f6fd918],.input-group input[data-v-6f6fd918],.input-group textarea[data-v-6f6fd918]{width:100%;padding:.75rem;font-size:1rem;border-radius:.3rem;line-height:1.5;border:1px solid #adb5bd;-moz-appearance:none;-webkit-appearance:none;display:block;margin:0}.input-group select[data-v-6f6fd918]:focus,.input-group input[data-v-6f6fd918]:focus,.input-group textarea[data-v-6f6fd918]:focus{outline:0;box-shadow:none;border-color:#198754}.input-group label[data-v-6f6fd918],.input-group button[data-v-6f6fd918]{white-space:nowrap;padding:.75rem;font-size:1rem;border-radius:.3rem;line-height:1.5;background-color:#f5f7fa;border-color:#adb5bd;border-style:solid;cursor:pointer;display:flex;align-items:center;margin:0}.input-group select[data-v-6f6fd918]{cursor:pointer}.input-group textarea[data-v-6f6fd918]{min-height:100px;resize:vertical}.input-group.large select[data-v-6f6fd918],.input-group.large input[data-v-6f6fd918],.input-group.large label[data-v-6f6fd918],.input-group.large button[data-v-6f6fd918]{padding:1rem;font-size:1.25rem}.input-group.small select[data-v-6f6fd918],.input-group.small input[data-v-6f6fd918],.input-group.small label[data-v-6f6fd918],.input-group.small button[data-v-6f6fd918]{padding:.3rem .6rem;font-size:.875rem}.input-group.left label[data-v-6f6fd918],.input-group.left button[data-v-6f6fd918]{border-radius:.3rem 0 0 .3rem;border-width:1px 0 1px 1px}.input-group.left select[data-v-6f6fd918],.input-group.left input[data-v-6f6fd918],.input-group.left textarea[data-v-6f6fd918]{border-radius:0 .3rem .3em 0}.input-group.right label[data-v-6f6fd918],.input-group.right button[data-v-6f6fd918]{border-radius:0 .3rem .3rem 0;border-width:1px 1px 1px 0}.input-group.right select[data-v-6f6fd918],.input-group.right input[data-v-6f6fd918],.input-group.right textarea[data-v-6f6fd918]{border-radius:.3rem 0 0 .3rem}.row[data-v-6f6fd918]{display:flex;margin:0 -0.375rem}.row-wrap[data-v-6f6fd918]{flex-wrap:wrap}.col[data-v-6f6fd918]{width:100%;padding:0 .375rem}.col-25[data-v-6f6fd918]{width:25%}.loader-wrapper[data-v-6f6fd918]{position:fixed;top:0;left:0;width:100%;background-color:rgba(255,255,255,.8);height:100%;z-index:1002;display:flex;justify-content:center;align-items:center}.loader[data-v-6f6fd918],.loader[data-v-6f6fd918]:before,.loader[data-v-6f6fd918]:after{background:#198754;-webkit-animation:loader-data-v-6f6fd918 1s infinite ease-in-out;animation:loader-data-v-6f6fd918 1s infinite ease-in-out;width:1rem;height:4rem}.loader[data-v-6f6fd918]{position:relative;color:#198754;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-0.16s;animation-delay:-0.16s}.loader[data-v-6f6fd918]::before,.loader[data-v-6f6fd918]::after{position:absolute;top:0;content:""}.loader[data-v-6f6fd918]::before{left:-1.5rem;-webkit-animation-delay:-0.32s;animation-delay:-0.32s}.loader[data-v-6f6fd918]::after{left:1.5rem}@-webkit-keyframes loader-data-v-6f6fd918{0%,80%,100%{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}@keyframes loader-data-v-6f6fd918{0%,80%,100%{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}.mb[data-v-6f6fd918]{margin-bottom:1.5rem}.mbs[data-v-6f6fd918]{margin-bottom:.75rem}.mt[data-v-6f6fd918]{margin-top:1.5rem}.mts[data-v-6f6fd918]{margin-top:.75rem}.filters[data-v-6f6fd918]{display:flex}.filters .input-group[data-v-6f6fd918]{margin:0 0 .5rem}.filters-pills[data-v-6f6fd918]{display:flex;flex-wrap:wrap}.filters-pill[data-v-6f6fd918]{padding:.3rem .6rem;background-color:#6c757d;border-radius:.25rem;margin:0 .5rem .5rem 0;cursor:pointer;color:#fff;font-size:.875rem;font-weight:700;line-height:1.5;transition:background-color .3s,border-color .3s;border:1px solid #6c757d}.filters-pill[data-v-6f6fd918]:hover{background-color:#adb5bd;border-color:#adb5bd}.filters-pill.selected[data-v-6f6fd918]{background-color:#fd7e14;border-color:#fd7e14}.filters-imgs[data-v-6f6fd918]{display:flex;flex-wrap:wrap}.filters-imgs img[data-v-6f6fd918]{margin:0 .5rem .5rem 0;cursor:pointer;opacity:.7;transition:opacity .3s}.filters-imgs img.selected[data-v-6f6fd918]{opacity:1;outline:.25rem solid #fd7e14}.filters-imgs img[data-v-6f6fd918]:hover{opacity:1}.filters-info[data-v-6f6fd918]{display:block;margin:-0.3rem 0 0}.wrapper[data-v-6f6fd918]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.footer[data-v-6f6fd918]{text-align:center;padding:1.8rem;color:#212529}.footer p[data-v-6f6fd918]{margin:0}.footer-btns[data-v-6f6fd918]{list-style:none;padding:0;margin:0 0 1rem;display:flex;justify-content:center}.footer-btns li[data-v-6f6fd918]{line-height:1;display:inline-block;padding:0 5px;border-right:1px solid #212529}.footer-btns li[data-v-6f6fd918]:last-child{border-right:none}.footer-btns button[data-v-6f6fd918]{background-color:transparent;border:none;cursor:pointer;padding:0;color:#212529;text-decoration:underline;transition:color .3s}.popup[data-v-6f6fd918]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#fff;z-index:1001;display:flex;align-items:center;justify-content:center}.popup p[data-v-6f6fd918]{text-align:center;margin:0;font-size:3rem;font-weight:300}.popup strong[data-v-6f6fd918]{color:#198754}.popup-close[data-v-6f6fd918]{position:fixed;top:1.8rem;right:1.8rem;background-color:transparent;border:none;padding:0;width:2rem;height:2rem;cursor:pointer;opacity:.7;transition:opacity .3s}.popup-close[data-v-6f6fd918]::before{position:absolute;top:50%;left:0;content:" ";height:2px;width:100%;margin:-1px 0 0;background-color:#212529;transition:transform .3s}.popup-close[data-v-6f6fd918]:hover{opacity:1}.popup-close[data-v-6f6fd918]:hover::before{transform:scale(0.7)}.top-nav[data-v-6f6fd918]{box-shadow:2px 4px 20px -4px rgba(0,0,0,.1);background-color:#212529;position:fixed;z-index:1000;right:0;left:0;top:0;min-height:4em;display:flex;align-items:center;justify-content:center}.top-nav img[data-v-6f6fd918]{margin:0 .5rem 0 0}.top-nav h1[data-v-6f6fd918]{color:#fff;font-size:1.25rem}.main[data-v-6f6fd918]{padding:1.8rem}.card[data-v-6f6fd918]{box-shadow:0 10px 40px 0 rgba(62,57,107,.07),0 2px 9px 0 rgba(62,57,107,.06);background-color:#fff;padding:1.5rem;margin:0 0 1.875rem;position:relative}.card-header[data-v-6f6fd918]{display:flex;align-items:center;justify-content:space-between}.card-title[data-v-6f6fd918]{font-weight:500;letter-spacing:.05rem;font-size:1.12rem;text-transform:uppercase;display:flex;justify-content:center}.card-title img[data-v-6f6fd918]{margin:0 1rem 0 0}.card-collapse-btn[data-v-6f6fd918]{cursor:pointer;background:transparent;border:none;outline:none;padding:0 0 0 14px;opacity:.7;transition:opacity .3s}.card-collapse-btn span[data-v-6f6fd918]{display:block;width:4px;height:4px;background-color:#212529;margin:0 0 3px;transition:transform .3s}.card-collapse-btn span[data-v-6f6fd918]:last-child{margin:0}.card-collapse-btn.collapsed span[data-v-6f6fd918]:first-child{transform:translate(7px, 7px)}.card-collapse-btn.collapsed span[data-v-6f6fd918]:last-child{transform:translate(-7px, -7px)}.card-collapse-btn[data-v-6f6fd918]:hover{opacity:1}.card-content[data-v-6f6fd918]{padding:1.5rem 0 0}.tools[data-v-6f6fd918]{padding:0;margin:0;list-style:none}.tools li[data-v-6f6fd918]{display:flex;align-items:center;margin:0 0 1rem}.tools li[data-v-6f6fd918]:last-child{margin:0}.tools img[data-v-6f6fd918]{margin:0 1rem 0 0}.tools-nav[data-v-6f6fd918]{margin:0 0 1rem}.tools-nav a[data-v-6f6fd918]{cursor:pointer;margin:0 .875rem .875rem 0;box-shadow:0 10px 40px 0 rgba(62,57,107,.07),0 2px 9px 0 rgba(62,57,107,.06);background-color:#212529;padding:.75rem 1.5rem;color:#fff;display:inline-flex;align-items:center;font-size:1.3rem;border-radius:2rem;transition:background-color .3s;text-decoration:none}.tools-nav a[data-v-6f6fd918]:hover{background-color:#383f45}.tools-nav a:hover img[data-v-6f6fd918]{transform:scale(1.1)}.tools-nav a.router-link-active[data-v-6f6fd918]{background-color:#198754;opacity:1}.tools-nav img[data-v-6f6fd918]{transition:transform .3s;margin:0 1rem 0 0}table[data-v-6f6fd918]{width:100%;border-collapse:collapse}table a[data-v-6f6fd918]{text-decoration:none;color:#d63384;transition:color .3s}table a[data-v-6f6fd918]:hover{color:#721744}th[data-v-6f6fd918]{text-align:left;padding:.3rem}td[data-v-6f6fd918]{border-bottom:1px solid #adb5bd;padding:.3rem}tr[data-v-6f6fd918]{padding:5px 0}tr:last-child td[data-v-6f6fd918]{border-bottom:none}.table-fixed[data-v-6f6fd918]{table-layout:fixed}.badge[data-v-6f6fd918]{padding:.75rem;color:#fff;border-radius:.3rem;display:flex;align-items:center;justify-content:space-between;font-size:1.2rem;border:1px solid}.badge.green[data-v-6f6fd918]{background-color:#198754;border-color:#198754}.badge.orange[data-v-6f6fd918]{background-color:#fd7e14;border-color:#fd7e14}.badge.red[data-v-6f6fd918]{background-color:#dc3545;border-color:#dc3545}.badge span[data-v-6f6fd918]{display:block;background-color:#fff;padding:.3rem 1rem;border-radius:.3rem;color:#212529}@media(min-width: 1000px){.show-on-mobile[data-v-6f6fd918]{display:none}}@media(max-width: 999.98px){.row[data-v-6f6fd918]{flex-wrap:wrap}.col[data-v-6f6fd918]{margin:0 0 .75rem}.col[data-v-6f6fd918]:last-child{margin:0}.col-25[data-v-6f6fd918]{width:100%}.hide-on-mobile[data-v-6f6fd918]{display:none}}@media(max-width: 767.98px){.mb[data-v-6f6fd918]{margin-bottom:1rem}.mbs[data-v-6f6fd918]{margin-bottom:.5rem}.mt[data-v-6f6fd918]{margin-top:1rem}.mts[data-v-6f6fd918]{margin-top:.5rem}.main[data-v-6f6fd918],.footer[data-v-6f6fd918]{padding:1rem}.popup p[data-v-6f6fd918]{font-size:1.8rem}.tools-nav a[data-v-6f6fd918]{padding:1rem;border-radius:50%}.tools-nav a span[data-v-6f6fd918]{display:none}.tools-nav img[data-v-6f6fd918]{margin:0}.filters[data-v-6f6fd918]{display:block}}h3 img[data-v-6f6fd918]{vertical-align:middle;margin:0 0 0 5px;cursor:pointer;transition:transform .3s}h3 img[data-v-6f6fd918]:hover{transform:scale(1.1)}.ellipsis[data-v-6f6fd918]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.balance-green input[data-v-6f6fd918]{border-color:#198754}.balance-orange input[data-v-6f6fd918]{border-color:#fd7e14}.balance-red input[data-v-6f6fd918]{border-color:#dc3545}.loot-transfer[data-v-6f6fd918]{margin:.5rem 0 0}.loot-transfer img[data-v-6f6fd918]{vertical-align:middle;margin:0 0 0 5px;cursor:pointer;transition:transform .3s}.loot-transfer img[data-v-6f6fd918]:hover{transform:scale(1.1)}',""]);const d=o},270:(a,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>f});var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card"},[a._m(0),a._v(" "),e("div",{staticClass:"card-content"},[e("form",{on:{submit:function(t){return t.preventDefault(),a.parseLog.apply(null,arguments)}}},[e("div",{staticClass:"input-group large right"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.log,expression:"log"}],domProps:{value:a.log},on:{input:function(t){t.target.composing||(a.log=t.target.value)}}}),a._v(" "),e("button",[a._v("Split loot")])]),a._v(" "),a._m(1)]),a._v(" "),e("small"),a._v(" "),a.parsed?[e("div",{staticClass:"row row-wrap"},a._l(a.logParsed,(function(t,r){return e("div",{staticClass:"col col-25",class:{"balance-green":t.loot>t.supplies,"balance-orange":t.loot===t.supplies,"balance-red":t.loot<t.supplies}},[e("h3",{staticClass:"mt ellipsis"},[a._v("\n                        "+a._s(t.name)+"\n                        "),e("img",{attrs:{src:"icons/remove.svg",alt:"",width:"24px",height:"24px"},on:{click:function(t){return a.removePlayer(r)}}})]),a._v(" "),e("div",{staticClass:"input-group left mts"},[e("label",{attrs:{for:"loot_"+r}},[a._v("Loot")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.loot,expression:"player.loot",modifiers:{number:!0}}],attrs:{type:"number",id:"loot_"+r},domProps:{value:t.loot},on:{change:a.updateResult,input:function(e){e.target.composing||a.$set(t,"loot",a._n(e.target.value))},blur:function(t){return a.$forceUpdate()}}})]),a._v(" "),e("div",{staticClass:"input-group left mts"},[e("label",{attrs:{for:"supplies_"+r}},[a._v("Supplies")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.supplies,expression:"player.supplies",modifiers:{number:!0}}],attrs:{type:"number",id:"supplies_"+r},domProps:{value:t.supplies},on:{change:a.updateResult,input:function(e){e.target.composing||a.$set(t,"supplies",a._n(e.target.value))},blur:function(t){return a.$forceUpdate()}}})])])})),0),a._v(" "),a._m(2),a._v(" "),e("div",{staticClass:"mt"},a._l(a.transfer,(function(t){return e("p",{staticClass:"loot-transfer"},[e("strong",[a._v(a._s(t.from))]),a._v(" should transfer "),e("strong",[a._v(a._s(t.gold))]),a._v(" gp to "),e("strong",[a._v(a._s(t.to))]),a._v(".\n                    "),e("img",{attrs:{src:"icons/copy.svg",alt:"",width:"24px",height:"24px"},on:{click:function(e){return a.copyToClipboard("transfer "+t.gold+" to "+t.to)}}})])})),0),a._v(" "),a._m(3),a._v(" "),e("div",{staticClass:"row mt"},[e("div",{staticClass:"col"},[e("div",{staticClass:"badge",class:{green:a.teamBalance>0,orange:0===a.teamBalance,red:a.teamBalance<0}},[a._v("\n                        Team balance\n                        "),e("span",[a._v(a._s(a.teamBalance))])])]),a._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"badge",class:{green:a.playerBalance>0,orange:0===a.playerBalance,red:a.playerBalance<0}},[a._v("\n                        Each player balance\n                        "),e("span",[a._v(a._s(a.playerBalance))])])])])]:a._e()],2)])};r._withStripped=!0;const o={name:"Loot",data:function(){return{log:"",logParsed:[],parsed:!1,teamSize:0,teamBalance:0,playerBalance:0,transfer:[]}},methods:{parseLog:function(){let a=this.log.split("\n"),t=/\d+/g;a.splice(0,6),this.teamSize=a.length/6,this.teamBalance=0,this.logParsed=[],this.transfer=[];for(let e=0;e<this.teamSize;e++){let r=a[6*e].replace(" (Leader)",""),o=parseInt(a[6*e+1].replace(",","").match(t)),d=parseInt(a[6*e+2].replace(",","").match(t)),n=o-d;this.logParsed.push({name:r,loot:o,supplies:d,balance:n}),this.teamBalance=this.teamBalance+o-d}this.playerBalance=Math.floor(this.teamBalance/this.teamSize),isNaN(this.playerBalance)&&(this.playerBalance=0),this.transferFromTo(),this.parsed=!0},updateResult:function(){this.teamBalance=0,this.logParsed.forEach((a=>{this.teamBalance=this.teamBalance+parseInt(a.loot)-parseInt(a.supplies),a.balance=parseInt(a.loot)-parseInt(a.supplies)})),this.playerBalance=Math.floor(this.teamBalance/this.teamSize),isNaN(this.playerBalance)&&(this.playerBalance=0),this.transferFromTo()},removePlayer:function(a){this.logParsed.splice(a,1),this.teamSize--,this.updateResult()},transferFromTo:function(){let a=this;a.transfer=[],a.logParsed.forEach(((t,e)=>{if(t.balance>a.playerBalance){let r=Math.abs(t.balance-a.playerBalance),o=e;a.logParsed.forEach(((t,e)=>{if(r>0&&t.balance<a.playerBalance){let e=Math.abs(t.balance-a.playerBalance),d=0;e<r?(d=e,r-=e):(d=r,r=0),t.balance+=d,a.logParsed[o].balance-=d,a.transfer.push({from:a.logParsed[o].name,to:t.name,gold:d})}}))}}))},copyToClipboard:function(a){let t=document.createElement("textarea");t.textContent=a,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(a){return console.warn("Copy to clipboard failed.",a),!1}finally{document.body.removeChild(t)}}}};var d=e(379),n=e.n(d),i=e(781);n()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var l=(0,e(900).Z)(o,r,[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card-header"},[e("h2",{staticClass:"card-title"},[e("img",{attrs:{src:"icons/loot.svg",alt:"",width:"18px",height:"18px"}}),a._v("\n            Party loot splitter\n        ")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("small",[a._v("Copy "),e("strong",[a._v("entire")]),a._v(" log from Party Hunt Analyser. Application "),e("strong",[a._v("do not")]),a._v(" store or validate pasted log.")])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"mts"},[e("small",[a._v("\n                    You can edit values in text fields."),e("br"),a._v("\n                    You can remove player by clicking on '"),e("strong",[a._v("x")]),a._v("' icon.\n                ")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"mts"},[e("small",[a._v("\n                    You can copy '"),e("strong",[a._v("transfer [amount] to [name]")]),a._v("' by clicking on icon after text.\n                ")])])}],!1,null,"6f6fd918",null);l.options.__file="src/js/components/Loot.vue";const f=l.exports}}]);